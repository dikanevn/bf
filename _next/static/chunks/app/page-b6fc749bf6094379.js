(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7790:()=>{},9209:(e,t,a)=>{Promise.resolve().then(a.bind(a,1957))},1957:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(5155),n=a(2115),i=a(7711),s=a(1929),l=a(7928),o=a(1318),c=a(7369),d=a(2200),u=a(5927);let g=new c.J3("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),b=new c.J3("DZwg4GQrbhX6HjM1LkCePZC3TeoeCtqyWxtpwgQpBtxj");function y(){let{publicKey:e,signTransaction:t}=(0,s.v)(),{connection:a}=(0,l.w)(),[i,y]=(0,n.useState)(!1),[m,f]=(0,n.useState)(null),h=async()=>{if(!e||!t){alert("Пожалуйста, подключите кошелек!");return}try{y(!0);let r=c.AX.generate(),n=c.AX.generate(),[i]=c.J3.findProgramAddressSync([u.Buffer.from("metadata"),g.toBytes(),r.publicKey.toBytes()],g),s=new c.ZX;s.add(new c.fH({programId:b,keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:c.yq.programId,isSigner:!1,isWritable:!1},{pubkey:d.x5,isSigner:!1,isWritable:!1},{pubkey:c._X,isSigner:!1,isWritable:!1},{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],data:u.Buffer.from([1])})),s.feePayer=e,s.recentBlockhash=(await a.getLatestBlockhash()).blockhash,s.partialSign(r),s.partialSign(n);let l=await t(s),o=await a.sendRawTransaction(l.serialize());console.log("Transaction ID:",o),console.log("Mint address:",r.publicKey.toString()),console.log("Token Account address:",n.publicKey.toString()),console.log("Metadata address:",i.toString()),await a.confirmTransaction(o),f(r.publicKey),alert("Токен успешно создан!\nMint: ".concat(r.publicKey.toString(),"\nMetadata: ").concat(i.toString()))}catch(e){console.error("Ошибка при создании токена:",e),alert("Ошибка: ".concat(e instanceof Error?e.message:String(e)))}finally{y(!1)}},x=async()=>{if(!e||!t||!m){alert("Пожалуйста, подключите кошелек и создайте токен сначала!");return}try{y(!0);let[r]=c.J3.findProgramAddressSync([u.Buffer.from("mint_authority")],b),n=new c.ZX;n.add(new c.fH({programId:b,keys:[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:d.x5,isSigner:!1,isWritable:!1}],data:u.Buffer.from([2])})),n.feePayer=e,n.recentBlockhash=(await a.getLatestBlockhash()).blockhash;let i=await t(n),s=await a.sendRawTransaction(i.serialize());console.log("Transaction ID:",s),console.log("Program Authority (new mint authority):",r.toString()),await a.confirmTransaction(s),alert("Mint authority успешно изменен на программу!\nProgram Authority: ".concat(r.toString()))}catch(e){console.error("Ошибка при смене mint authority:",e),alert("Ошибка: ".concat(e instanceof Error?e.message:String(e)))}finally{y(!1)}};return(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)(o.x,{}),e&&(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("button",{onClick:h,disabled:i,className:"mt-5",children:i?"Processing...":"Создать и минтить токен"}),(0,r.jsx)("button",{onClick:x,disabled:i||!m,className:"mt-5",children:i?"Processing...":"Установить программу как mint authority"})]})]})}var m=a(8148),f=a(5927).Buffer;let h=new c.J3("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");function x(e){let[t]=c.J3.findProgramAddressSync([f.from("metadata"),h.toBuffer(),e.toBuffer()],h);return t}async function p(e,t){try{let a=x(t);return await e.connection.getAccountInfo(a)}catch(e){return null}}function S(){let[e,t]=(0,n.useState)(""),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),o=async()=>{if(!e){alert("Введите адрес mint!");return}try{let t;i(!0);let a=await (0,m.O)("https://api.devnet.solana.com"),r=new c.J3(e),n=x(r);l(n.toString());try{t=await p(a,r)}catch(e){t=null}let s="Информация о токене:\nMint: ".concat(e,"\nMetadata PDA: ").concat(n.toString(),"\nMaster Edition PDA: ").concat((()=>{try{return(function(e){let[t]=c.J3.findProgramAddressSync([f.from("metadata"),h.toBuffer(),e.toBuffer(),f.from("edition")],h);return t})(r).toString()}catch(e){return"не найден"}})(),"\n");t?s+="\nДетали цифрового актива: ".concat(JSON.stringify(t,null,2)):s+="\nДанных цифрового актива не получено.",console.log("Информация о токене:"),console.log("Mint:",e),console.log("Metadata PDA:",n.toString()),t?console.dir(t,{depth:null}):console.log("Данные цифрового актива не получены."),alert(s)}catch(e){console.error("Ошибка:",e),alert("Ошибка: ".concat(e instanceof Error?e.message:String(e)))}finally{i(!1)}};return(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("input",{type:"text",placeholder:"Введите адрес mint",value:e,onChange:e=>t(e.target.value),className:"px-3 py-2 border border-gray-300 mb-4 w-full"}),(0,r.jsx)("button",{onClick:o,disabled:a,className:"px-4 py-2 bg-green-500 text-white hover:bg-green-600 disabled:bg-gray-400",children:a?"Processing...":"Получить информацию"}),s&&(0,r.jsxs)("p",{className:"mt-4",children:["Metadata PDA: ",s]})]})}let k=(0,i.default)(()=>Promise.all([a.e(252),a.e(571),a.e(730),a.e(752)]).then(a.bind(a,8752)).then(e=>e.ClientWalletProvider),{loadableGenerated:{webpack:()=>[8752]},ssr:!1});function w(){return(0,r.jsx)("main",{className:"min-h-screen text-gray-600",children:(0,r.jsx)(k,{children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center mb-8 text-gray-700"}),(0,r.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700"}),(0,r.jsx)(y,{})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Token Info"}),(0,r.jsx)(S,{})]})]})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[956,329,441,517,358],()=>t(9209)),_N_E=e.O()}]);