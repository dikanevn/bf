(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9785],{75e3:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw TypeError(i+" is ambiguous");e[o]=r}var a=t.length,s=t.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function u(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,i=0;t[n]===s;)r++,n++;for(var o=(t.length-n)*l+1>>>0,c=new Uint8Array(o);t[n];){var u=e[t.charCodeAt(n)];if(255===u)return;for(var h=0,d=o-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*c[d]>>>0,c[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=h,n++}for(var f=o-i;f!==o&&0===c[f];)f++;for(var g=new Uint8Array(r+(o-f)),y=r;f!==o;)g[y++]=c[f++];return g}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var l=(o-i)*c+1>>>0,u=new Uint8Array(l);i!==o;){for(var h=e[i],d=0,f=l-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");r=d,i++}for(var g=l-r;g!==l&&0===u[g];)g++;for(var y=s.repeat(n);g<l;++g)y+=t.charAt(u[g]);return y},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw Error("Non-base"+a+" character")}}}},89631:(t,e,n)=>{let r=n(75e3);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},45130:t=>{"use strict";var e={single_source_shortest_paths:function(t,n,r){var i,o,a,s,l,c,u,h={},d={};d[n]=0;var f=e.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(a in o=(i=f.pop()).value,s=i.cost,l=t[o]||{})l.hasOwnProperty(a)&&(c=s+l[a],u=d[a],(void 0===d[a]||u>c)&&(d[a]=c,f.push(a,c),h[a]=o));if(void 0!==r&&void 0===d[r])throw Error(["Could not find a path from ",n," to ",r,"."].join(""));return h},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,n,r){var i=e.single_source_shortest_paths(t,n,r);return e.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(t){var n,r=e.PriorityQueue,i={};for(n in t=t||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},79995:(t,e,n)=>{let r=n(47685),i=n(77245),o=n(16383),a=n(40934);function s(t,e,n,o,a){let s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!r())throw Error("Callback required as last argument");if(c){if(l<2)throw Error("Too few arguments provided");2===l?(a=n,n=e,e=o=void 0):3===l&&(e.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=e,e=void 0))}else{if(l<1)throw Error("Too few arguments provided");return 1===l?(n=e,e=o=void 0):2!==l||e.getContext||(o=n,n=e,e=void 0),new Promise(function(r,a){try{let a=i.create(n,o);r(t(a,e,o))}catch(t){a(t)}})}try{let r=i.create(n,o);a(null,t(r,e,o))}catch(t){a(t)}}e.create=i.create,e.toCanvas=s.bind(null,o.render),e.toDataURL=s.bind(null,o.renderToDataURL),e.toString=s.bind(null,function(t,e,n){return a.render(t,n)})},47685:t=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},863:(t,e,n)=>{let r=n(56880).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];let e=Math.floor(t/7)+2,n=r(t),i=145===n?26:2*Math.ceil((n-13)/(2*e-2)),o=[n-7];for(let t=1;t<e-1;t++)o[t]=o[t-1]-i;return o.push(6),o.reverse()},e.getPositions=function(t){let n=[],r=e.getRowColCoords(t),i=r.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)(0!==t||0!==e)&&(0!==t||e!==i-1)&&(t!==i-1||0!==e)&&n.push([r[t],r[e]]);return n}},22115:(t,e,n)=>{let r=n(71932),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(t){this.mode=r.ALPHANUMERIC,this.data=t}o.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*i.indexOf(this.data[e]);n+=i.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},t.exports=o},48071:t=>{function e(){this.buffer=[],this.length=0}e.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},53972:t=>{function e(t){if(!t||t<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}e.prototype.set=function(t,e,n,r){let i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,e){return this.data[t*this.size+e]},e.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},e.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=e},85688:(t,e,n)=>{let r=n(71932);function i(t){this.mode=r.BYTE,"string"==typeof t?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=i},93684:(t,e,n)=>{let r=n(20865),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return i[(t-1)*4+0];case r.M:return i[(t-1)*4+1];case r.Q:return i[(t-1)*4+2];case r.H:return i[(t-1)*4+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return o[(t-1)*4+0];case r.M:return o[(t-1)*4+1];case r.Q:return o[(t-1)*4+2];case r.H:return o[(t-1)*4+3];default:return}}},20865:(t,e)=>{e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw Error("Unknown EC Level: "+t)}}(t)}catch(t){return n}}},87428:(t,e,n)=>{let r=n(56880).getSymbolSize;e.getPositions=function(t){let e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},73335:(t,e,n)=>{let r=n(56880),i=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){let n=t.bit<<3|e,o=n<<10;for(;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return(n<<10|o)^21522}},3455:(t,e)=>{let n=new Uint8Array(512),r=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)n[e]=t,r[t]=e,256&(t<<=1)&&(t^=285);for(let t=255;t<512;t++)n[t]=n[t-255]}(),e.log=function(t){if(t<1)throw Error("log("+t+")");return r[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[r[t]+r[e]]}},47873:(t,e,n)=>{let r=n(71932),i=n(56880);function o(t){this.mode=r.KANJI,this.data=t}o.getBitsLength=function(t){return 13*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=i.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n=(n>>>8&255)*192+(255&n),t.put(n,13)}},t.exports=o},69616:(t,e)=>{e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let n={N1:3,N2:3,N3:40,N4:10};e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){let e=t.size,r=0,i=0,o=0,a=null,s=null;for(let l=0;l<e;l++){i=o=0,a=s=null;for(let c=0;c<e;c++){let e=t.get(l,c);e===a?i++:(i>=5&&(r+=n.N1+(i-5)),a=e,i=1),(e=t.get(c,l))===s?o++:(o>=5&&(r+=n.N1+(o-5)),s=e,o=1)}i>=5&&(r+=n.N1+(i-5)),o>=5&&(r+=n.N1+(o-5))}return r},e.getPenaltyN2=function(t){let e=t.size,r=0;for(let n=0;n<e-1;n++)for(let i=0;i<e-1;i++){let e=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1);(4===e||0===e)&&r++}return r*n.N2},e.getPenaltyN3=function(t){let e=t.size,r=0,i=0,o=0;for(let n=0;n<e;n++){i=o=0;for(let a=0;a<e;a++)i=i<<1&2047|t.get(n,a),a>=10&&(1488===i||93===i)&&r++,o=o<<1&2047|t.get(a,n),a>=10&&(1488===o||93===o)&&r++}return r*n.N3},e.getPenaltyN4=function(t){let e=0,r=t.data.length;for(let n=0;n<r;n++)e+=t.data[n];return Math.abs(Math.ceil(100*e/r/5)-10)*n.N4},e.applyMask=function(t,n){let r=n.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)n.isReserved(o,i)||n.xor(o,i,function(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw Error("bad maskPattern:"+t)}}(t,o,i))},e.getBestMask=function(t,n){let r=Object.keys(e.Patterns).length,i=0,o=1/0;for(let a=0;a<r;a++){n(a),e.applyMask(a,t);let r=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),r<o&&(o=r,i=a)}return i}},71932:(t,e,n)=>{let r=n(35040),i=n(26734);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw Error("Invalid mode: "+t);if(!r.isValid(e))throw Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw Error("Unknown mode: "+t)}}(t)}catch(t){return n}}},53773:(t,e,n)=>{let r=n(71932);function i(t){this.mode=r.NUMERIC,this.data=t.toString()}i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e,n;for(e=0;e+3<=this.data.length;e+=3)n=parseInt(this.data.substr(e,3),10),t.put(n,10);let r=this.data.length-e;r>0&&(n=parseInt(this.data.substr(e),10),t.put(n,3*r+1))},t.exports=i},90177:(t,e,n)=>{let r=n(3455);e.mul=function(t,e){let n=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)n[i+o]^=r.mul(t[i],e[o]);return n},e.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){let t=n[0];for(let i=0;i<e.length;i++)n[i]^=r.mul(e[i],t);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let i=0;i<t;i++)n=e.mul(n,new Uint8Array([1,r.exp(i)]));return n}},77245:(t,e,n)=>{let r=n(56880),i=n(20865),o=n(48071),a=n(53972),s=n(863),l=n(87428),c=n(69616),u=n(93684),h=n(78928),d=n(54557),f=n(73335),g=n(71932),y=n(28181);function w(t,e,n){let r,i;let o=t.size,a=f.getEncodedBits(e,n);for(r=0;r<15;r++)i=(a>>r&1)==1,r<6?t.set(r,8,i,!0):r<8?t.set(r+1,8,i,!0):t.set(o-15+r,8,i,!0),r<8?t.set(8,o-r-1,i,!0):r<9?t.set(8,15-r-1+1,i,!0):t.set(8,15-r-1,i,!0);t.set(o-8,8,1,!0)}e.create=function(t,e){let n,f;if(void 0===t||""===t)throw Error("No input text");let p=i.M;return void 0!==e&&(p=i.from(e.errorCorrectionLevel,i.M),n=d.from(e.version),f=c.from(e.maskPattern),e.toSJISFunc&&r.setToSJISFunction(e.toSJISFunc)),function(t,e,n,i){let f;if(Array.isArray(t))f=y.fromArray(t);else if("string"==typeof t){let r=e;if(!r){let e=y.rawSplit(t);r=d.getBestVersionForData(e,n)}f=y.fromString(t,r||40)}else throw Error("Invalid data");let p=d.getBestVersionForData(f,n);if(!p)throw Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<p)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+p+".\n")}else e=p;let m=function(t,e,n){let i=new o;n.forEach(function(e){i.put(e.mode.bit,4),i.put(e.getLength(),g.getCharCountIndicator(e.mode,t)),e.write(i)});let a=(r.getSymbolTotalCodewords(t)-u.getTotalCodewordsCount(t,e))*8;for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let s=(a-i.getLengthInBits())/8;for(let t=0;t<s;t++)i.put(t%2?17:236,8);return function(t,e,n){let i,o;let a=r.getSymbolTotalCodewords(e),s=a-u.getTotalCodewordsCount(e,n),l=u.getBlocksCount(e,n),c=a%l,d=l-c,f=Math.floor(a/l),g=Math.floor(s/l),y=g+1,w=f-g,p=new h(w),m=0,v=Array(l),E=Array(l),A=0,b=new Uint8Array(t.buffer);for(let t=0;t<l;t++){let e=t<d?g:y;v[t]=b.slice(m,m+e),E[t]=p.encode(v[t]),m+=e,A=Math.max(A,e)}let _=new Uint8Array(a),T=0;for(i=0;i<A;i++)for(o=0;o<l;o++)i<v[o].length&&(_[T++]=v[o][i]);for(i=0;i<w;i++)for(o=0;o<l;o++)_[T++]=E[o][i];return _}(i,t,e)}(e,n,f),v=new a(r.getSymbolSize(e));return function(t,e){let n=t.size,r=l.getPositions(e);for(let e=0;e<r.length;e++){let i=r[e][0],o=r[e][1];for(let e=-1;e<=7;e++)if(!(i+e<=-1)&&!(n<=i+e))for(let r=-1;r<=7;r++)o+r<=-1||n<=o+r||(e>=0&&e<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===e||6===e)||e>=2&&e<=4&&r>=2&&r<=4?t.set(i+e,o+r,!0,!0):t.set(i+e,o+r,!1,!0))}}(v,e),function(t){let e=t.size;for(let n=8;n<e-8;n++){let e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(v),function(t,e){let n=s.getPositions(e);for(let e=0;e<n.length;e++){let r=n[e][0],i=n[e][1];for(let e=-2;e<=2;e++)for(let n=-2;n<=2;n++)-2===e||2===e||-2===n||2===n||0===e&&0===n?t.set(r+e,i+n,!0,!0):t.set(r+e,i+n,!1,!0)}}(v,e),w(v,n,0),e>=7&&function(t,e){let n,r,i;let o=t.size,a=d.getEncodedBits(e);for(let e=0;e<18;e++)n=Math.floor(e/3),r=e%3+o-8-3,i=(a>>e&1)==1,t.set(n,r,i,!0),t.set(r,n,i,!0)}(v,e),function(t,e){let n=t.size,r=-1,i=n-1,o=7,a=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!t.isReserved(i,s-n)){let r=!1;a<e.length&&(r=(e[a]>>>o&1)==1),t.set(i,s-n,r),-1==--o&&(a++,o=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(v,m),isNaN(i)&&(i=c.getBestMask(v,w.bind(null,v,n))),c.applyMask(i,v),w(v,n,i),{modules:v,version:e,errorCorrectionLevel:n,maskPattern:i,segments:f}}(t,n,p,f)}},78928:(t,e,n)=>{let r=n(90177);function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw Error("Encoder not initialized");let e=new Uint8Array(t.length+this.degree);e.set(t);let n=r.mod(e,this.genPoly),i=this.degree-n.length;if(i>0){let t=new Uint8Array(this.degree);return t.set(n,i),t}return n},t.exports=i},26734:(t,e)=>{let n="[0-9]+",r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=RegExp(r,"g"),e.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=RegExp(i,"g"),e.NUMERIC=RegExp(n,"g"),e.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let o=RegExp("^"+r+"$"),a=RegExp("^"+n+"$"),s=RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return a.test(t)},e.testAlphanumeric=function(t){return s.test(t)}},28181:(t,e,n)=>{let r=n(71932),i=n(53773),o=n(22115),a=n(85688),s=n(47873),l=n(26734),c=n(56880),u=n(45130);function h(t){return unescape(encodeURIComponent(t)).length}function d(t,e,n){let r;let i=[];for(;null!==(r=t.exec(n));)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function f(t){let e,n;let i=d(l.NUMERIC,r.NUMERIC,t),o=d(l.ALPHANUMERIC,r.ALPHANUMERIC,t);return c.isKanjiModeEnabled()?(e=d(l.BYTE,r.BYTE,t),n=d(l.KANJI,r.KANJI,t)):(e=d(l.BYTE_KANJI,r.BYTE,t),n=[]),i.concat(o,e,n).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function g(t,e){switch(e){case r.NUMERIC:return i.getBitsLength(t);case r.ALPHANUMERIC:return o.getBitsLength(t);case r.KANJI:return s.getBitsLength(t);case r.BYTE:return a.getBitsLength(t)}}function y(t,e){let n;let l=r.getBestModeForData(t);if((n=r.from(e,l))!==r.BYTE&&n.bit<l.bit)throw Error('"'+t+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(t);case r.ALPHANUMERIC:return new o(t);case r.KANJI:return new s(t);case r.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(y(e,null)):e.data&&t.push(y(e.data,e.mode)),t},[])},e.fromString=function(t,n){let i=function(t,e){let n={},i={start:{}},o=["start"];for(let a=0;a<t.length;a++){let s=t[a],l=[];for(let t=0;t<s.length;t++){let c=s[t],u=""+a+t;l.push(u),n[u]={node:c,lastCount:0},i[u]={};for(let t=0;t<o.length;t++){let a=o[t];n[a]&&n[a].node.mode===c.mode?(i[a][u]=g(n[a].lastCount+c.length,c.mode)-g(n[a].lastCount,c.mode),n[a].lastCount+=c.length):(n[a]&&(n[a].lastCount=c.length),i[a][u]=g(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,e))}}o=l}for(let t=0;t<o.length;t++)i[o[t]].end=0;return{map:i,table:n}}(function(t){let e=[];for(let n=0;n<t.length;n++){let i=t[n];switch(i.mode){case r.NUMERIC:e.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:e.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:e.push([i,{data:i.data,mode:r.BYTE,length:h(i.data)}]);break;case r.BYTE:e.push([{data:i.data,mode:r.BYTE,length:h(i.data)}])}}return e}(f(t,c.isKanjiModeEnabled())),n),o=u.find_path(i.map,"start","end"),a=[];for(let t=1;t<o.length-1;t++)a.push(i.table[o[t]].node);return e.fromArray(a.reduce(function(t,e){let n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t},[]))},e.rawSplit=function(t){return e.fromArray(f(t,c.isKanjiModeEnabled()))}},56880:(t,e)=>{let n;let r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw Error('"version" cannot be null or undefined');if(t<1||t>40)throw Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},35040:(t,e)=>{e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},54557:(t,e,n)=>{let r=n(56880),i=n(93684),o=n(20865),a=n(71932),s=n(35040),l=r.getBCHDigit(7973);function c(t,e){return a.getCharCountIndicator(t,e)+4}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!s.isValid(t))throw Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);let o=(r.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e))*8;if(n===a.MIXED)return o;let l=o-c(n,t);switch(n){case a.NUMERIC:return Math.floor(l/10*3);case a.ALPHANUMERIC:return Math.floor(l/11*2);case a.KANJI:return Math.floor(l/13);case a.BYTE:default:return Math.floor(l/8)}},e.getBestVersionForData=function(t,n){let r;let i=o.from(n,o.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let r=1;r<=40;r++)if(function(t,e){let n=0;return t.forEach(function(t){let r=c(t.mode,e);n+=r+t.getBitsLength()}),n}(t,r)<=e.getCapacity(r,n,a.MIXED))return r}(t,i);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,n,r){for(let i=1;i<=40;i++)if(n<=e.getCapacity(i,r,t))return i}(r.mode,r.getLength(),i)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw Error("Invalid QR Code version");let e=t<<12;for(;r.getBCHDigit(e)-l>=0;)e^=7973<<r.getBCHDigit(e)-l;return t<<12|e}},16383:(t,e,n)=>{let r=n(62172);e.render=function(t,e,n){var i;let o=n,a=e;void 0!==o||e&&e.getContext||(o=e,e=void 0),e||(a=function(){try{return document.createElement("canvas")}catch(t){throw Error("You need to specify a canvas element")}}()),o=r.getOptions(o);let s=r.getImageWidth(t.modules.size,o),l=a.getContext("2d"),c=l.createImageData(s,s);return r.qrToImageData(c.data,t,o),i=a,l.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px",l.putImageData(c,0,0),a},e.renderToDataURL=function(t,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});let o=e.render(t,n,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}},40934:(t,e,n)=>{let r=n(62172);function i(t,e){let n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(t,e,n){let r=t+e;return void 0!==n&&(r+=" "+n),r}e.render=function(t,e,n){let a=r.getOptions(e),s=t.modules.size,l=t.modules.data,c=s+2*a.margin,u=a.color.light.a?"<path "+i(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",h="<path "+i(a.color.dark,"stroke")+' d="'+function(t,e,n){let r="",i=0,a=!1,s=0;for(let l=0;l<t.length;l++){let c=Math.floor(l%e),u=Math.floor(l/e);c||a||(a=!0),t[l]?(s++,l>0&&c>0&&t[l-1]||(r+=a?o("M",c+n,.5+u+n):o("m",i,0),i=0,a=!1),c+1<e&&t[l+1]||(r+=o("h",s),s=0)):i++}return r}(l,s,a.margin)+'"/>',d='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+('viewBox="0 0 '+c)+" "+c+'" shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"==typeof n&&n(null,d),d}},62172:(t,e)=>{function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw Error("Invalid hex color: "+t);(3===e.length||4===e.length)&&(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");let n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});let e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:r,scale:r?4:i,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){let r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){let i=n.modules.size,o=n.modules.data,a=e.getScale(i,r),s=Math.floor((i+2*r.margin)*a),l=r.margin*a,c=[r.color.light,r.color.dark];for(let e=0;e<s;e++)for(let n=0;n<s;n++){let u=(e*s+n)*4,h=r.color.light;e>=l&&n>=l&&e<s-l&&n<s-l&&(h=c[o[Math.floor((e-l)/a)*i+Math.floor((n-l)/a)]?1:0]),t[u++]=h.r,t[u++]=h.g,t[u++]=h.b,t[u]=h.a}}},23669:()=>{},62107:(t,e,n)=>{"use strict";n.d(e,{DE:()=>s,Xl:()=>l});var r=n(91764),i=n(80302),o=n(9679);class a extends r.Ce{async sendTransaction(t,e,n={}){let r=!0;try{if((0,o.Y)(t)){if(!this.supportedTransactionVersions)throw new i.UF("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new i.UF(`Sending transaction version ${t.version} isn't supported by this wallet`);try{let r=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(r,n)}catch(t){if(t instanceof i.z4)throw r=!1,t;throw new i.UF(t?.message,t)}}else try{let{signers:r,...i}=n;t=await this.prepareTransaction(t,e,i),r?.length&&t.partialSign(...r);let o=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(o,i)}catch(t){if(t instanceof i.z4)throw r=!1,t;throw new i.UF(t?.message,t)}}catch(t){throw r&&this.emit("error",t),t}}async signAllTransactions(t){for(let e of t)if((0,o.Y)(e)){if(!this.supportedTransactionVersions)throw new i.z4("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new i.z4(`Signing transaction version ${e.version} isn't supported by this wallet`)}let e=[];for(let n of t)e.push(await this.signTransaction(n));return e}}class s extends a{}class l extends s{}},9679:(t,e,n)=>{"use strict";function r(t){return"version"in t}n.d(e,{Y:()=>r})},37646:(t,e,n)=>{"use strict";var r;n.d(e,{B:()=>r}),function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"}(r||(r={}))},51406:(t,e,n)=>{"use strict";n.d(e,{c:()=>l});var r=n(62107),i=n(91764),o=n(80302),a=n(9679),s=n(77369);class l extends r.DE{constructor(t={}){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?i.Ok.Unsupported:i.Ok.NotDetected,this._disconnected=()=>{let t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new o.PQ),this.emit("disconnect"))},this._accountChanged=t=>{let e=this._publicKey;if(e){try{t=new s.PublicKey(t.toBytes())}catch(t){this.emit("error",new o.Kd(t?.message,t));return}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==i.Ok.Unsupported&&((0,i.Br)()?(this._readyState=i.Ok.Loadable,this.emit("readyStateChange",this._readyState)):(0,i.qG)(()=>!!(window.phantom?.solana?.isPhantom||window.solana?.isPhantom)&&(this._readyState=i.Ok.Installed,this.emit("readyStateChange",this._readyState),!0)))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===i.Ok.Installed&&await this.connect()}async connect(){try{let t;if(this.connected||this.connecting)return;if(this.readyState===i.Ok.Loadable){let t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${t}?ref=${e}`;return}if(this.readyState!==i.Ok.Installed)throw new o.AE;this._connecting=!0;let e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(t){throw new o.Y6(t?.message,t)}if(!e.publicKey)throw new o.fk;try{t=new s.PublicKey(e.publicKey.toBytes())}catch(t){throw new o.Kd(t?.message,t)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){let t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(t){this.emit("error",new o.Y8(t?.message,t))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{let r=this._wallet;if(!r)throw new o.kW;try{let{signers:i,...o}=n;(0,a.Y)(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,o),i?.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||e.commitment;let{signature:s}=await r.signAndSendTransaction(t,o);return s}catch(t){if(t instanceof o.m7)throw t;throw new o.UF(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signTransaction(t){try{let e=this._wallet;if(!e)throw new o.kW;try{return await e.signTransaction(t)||t}catch(t){throw new o.z4(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(t){try{let e=this._wallet;if(!e)throw new o.kW;try{return await e.signAllTransactions(t)||t}catch(t){throw new o.z4(t?.message,t)}}catch(t){throw this.emit("error",t),t}}async signMessage(t){try{let e=this._wallet;if(!e)throw new o.kW;try{let{signature:n}=await e.signMessage(t);return n}catch(t){throw new o.K3(t?.message,t)}}catch(t){throw this.emit("error",t),t}}}},70188:(t,e,n)=>{"use strict";n.d(e,{S:()=>a});var r=n(77369),i=n(12115),o=n(47928);let a=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{let a=(0,i.useMemo)(()=>new r.Connection(e,n),[e,n]);return i.createElement(o.E.Provider,{value:{connection:a}},t)}},16968:(t,e,n)=>{"use strict";let r,i,o,a;n.d(e,{r:()=>t$});var s,l,c,u,h,d,f,g,y,w,p,m,v,E,A,b,_,T,M,N,I=n(62107),S=n(91764),R=n(80302),C=n(9679),O=n(77369);let L=`(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?`;RegExp(`^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??${L}\\n*$`);let z={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class D extends Error{constructor(...t){let[e,n,r]=t;super(n),this.code=e,this.data=r,this.name="SolanaMobileWalletAdapterError"}}class U extends Error{constructor(...t){let[e,n,r,i]=t;super(r),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function k(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})}function P(t,e){return k(this,void 0,void 0,function*(){let n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}let j="solana:cloneAuthorization";function x(t,e){return k(this,void 0,void 0,function*(){let n=t.slice(0,4),i=t.slice(4,16),o=t.slice(16),a=yield crypto.subtle.decrypt(B(n,i),e,o);return(void 0===r&&(r=new TextDecoder("utf-8")),r).decode(a)})}function B(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}function K(){return k(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function W(t){if(t<49152||t>65535)throw new D(z.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function Y(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}let F={Firefox:0,Other:1},Q=null,V={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};function H(t){return new DataView(t).getUint32(0,!1)}var $=n(89631);function G(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function J(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})}function Z(t){return window.btoa(String.fromCharCode.call(null,...t))}function q(t){return new Uint8Array(window.atob(t).split("").map(t=>t.charCodeAt(0)))}function X(t){return Z("version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}function tt(t){let e=t[0]*O.SIGNATURE_LENGTH_IN_BYTES+1;return"legacy"===O.VersionedMessage.deserializeMessageVersion(t.slice(e,t.length))?O.Transaction.from(t):O.VersionedTransaction.deserialize(t)}n(79995);var te=n(75927).Buffer;let tn="function"==typeof te;"function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder&&new TextEncoder;let tr=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),ti=(t=>{let e={};return t.forEach((t,n)=>e[t]=n),e})(tr),to=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ta=String.fromCharCode.bind(String),ts="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),tl=t=>t.replace(/[^A-Za-z0-9\+\/]/g,"");"function"==typeof btoa||tn||(t=>{let e,n,r,i,o="",a=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw TypeError("invalid character found");o+=tr[(e=n<<16|r<<8|i)>>18&63]+tr[e>>12&63]+tr[e>>6&63]+tr[63&e]}return a?o.slice(0,a-3)+"===".substring(a):o});let tc="function"==typeof atob?t=>atob(tl(t)):tn?t=>te.from(t,"base64").toString("binary"):t=>{if(t=t.replace(/\s+/g,""),!to.test(t))throw TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,n="",r,i;for(let o=0;o<t.length;)e=ti[t.charAt(o++)]<<18|ti[t.charAt(o++)]<<12|(r=ti[t.charAt(o++)])<<6|(i=ti[t.charAt(o++)]),n+=64===r?ta(e>>16&255):64===i?ta(e>>16&255,e>>8&255):ta(e>>16&255,e>>8&255,255&e);return n};function tu(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})}function th(t){return new Uint8Array(window.atob(t).split("").map(t=>t.charCodeAt(0)))}let td="Mobile Wallet Adapter";function tf(t){return"version"in t}class tg extends I.Xl{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=td,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?S.Ok.Loadable:S.Ok.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=null!==(e=t.chain)&&void 0!==e?e:function(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==S.Ok.Unsupported&&this._authorizationResultCache.get().then(t=>{t&&this.declareWalletAsInstalled()})}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(t){let e=th(t);return new O.PublicKey(e)}(this._selectedAddress)}catch(t){throw new R.Kd(t instanceof Error&&(null==t?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==S.Ok.Installed&&this.emit("readyStateChange",this._readyState=S.Ok.Installed)}runWithGuard(t){return tu(this,void 0,void 0,function*(){try{return yield t()}catch(t){throw this.emit("error",t),t}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return tu(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return tu(this,void 0,void 0,function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard(()=>tu(this,void 0,void 0,function*(){if(this._readyState!==S.Ok.Installed&&this._readyState!==S.Ok.Loadable)throw new R.AE;this._connecting=!0;try{let t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new R.Y6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return tu(this,void 0,void 0,function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard(()=>tu(this,void 0,void 0,function*(){if(this._readyState!==S.Ok.Installed&&this._readyState!==S.Ok.Loadable)throw new R.AE;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new R.Y6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return tu(this,void 0,void 0,function*(){try{let e=yield this._authorizationResultCache.get();if(e)return this.handleAuthorizationResult(e),e;return yield this.transact(e=>tu(this,void 0,void 0,function*(){let n=yield e.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)]),n}))}catch(t){throw new R.Y6(t instanceof Error&&t.message||"Unknown error",t)}})}handleAuthorizationResult(t){var e;return tu(this,void 0,void 0,function*(){let n=null==this._authorizationResult||(null===(e=this._authorizationResult)||void 0===e?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((e,n)=>e.address!==t.accounts[n].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){let e=yield this._addressSelector.select(t.accounts.map(({address:t})=>t));e!==this._selectedAddress&&(this._selectedAddress=e,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return tu(this,void 0,void 0,function*(){try{let n=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(t){throw this.disconnect(),new R.PQ(t instanceof Error&&(null==t?void 0:t.message)||"Unknown error",t)}})}disconnect(){return tu(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return tu(this,void 0,void 0,function*(){let n=null===(e=this._authorizationResult)||void 0===e?void 0:e.wallet_uri_base,r=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,i=this._connectionGeneration;try{return yield function(t,e){return J(this,void 0,void 0,function*(){return yield function(t,e){return k(this,void 0,void 0,function*(){let n;!function(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new D(z.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();let r=yield function(){return k(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}(),i=yield function(t,e){return k(this,void 0,void 0,function*(){let n=W(49152+Math.floor(16384*Math.random())),r=yield function(t,e,n,r=["v1"]){return k(this,void 0,void 0,function*(){let i=W(e),o=function(t){let e="",n=new Uint8Array(t),r=n.byteLength;for(let t=0;t<r;t++)e+=String.fromCharCode(n[t]);return window.btoa(e)}((yield crypto.subtle.exportKey("raw",t))),a=function(t,e){let n=null;if(e){try{n=new URL(e)}catch(t){}if((null==n?void 0:n.protocol)!=="https:")throw new D(z.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}return n||(n=new URL("solana-wallet:/")),new URL(t.startsWith("/")?t:[...Y(n.pathname),...Y(t)].join("/"),n)}("v1/associate/local",n);return a.searchParams.set("association",o.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])),a.searchParams.set("port",`${i}`),r.forEach(t=>{a.searchParams.set("v",t)}),a})}(t,n,e);return yield function(t){return k(this,void 0,void 0,function*(){if("https:"===t.protocol)window.location.assign(t);else try{switch(-1!==navigator.userAgent.indexOf("Firefox/")?F.Firefox:F.Other){case F.Firefox:null==Q&&((Q=document.createElement("iframe")).style.display="none",document.body.appendChild(Q)),Q.contentWindow.location.href=t.toString();break;case F.Other:{let e=new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);let i=setTimeout(()=>{n(),e()},2e3)});window.location.assign(t),yield e}}}catch(t){throw new D(z.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}(r),n})}(r.publicKey,null==e?void 0:e.baseUri),o=`ws://localhost:${i}/solana-wallet`,a=(()=>{let t=[...V.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})(),s=1,l=0,c={__type:"disconnected"};return new Promise((e,i)=>{let u,h,d;let f={},g=()=>k(this,void 0,void 0,function*(){if("connecting"!==c.__type){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}u.removeEventListener("open",g);let{associationKeypair:t}=c,e=yield K();u.send((yield P(e.publicKey,t.privateKey))),c={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}}),y=t=>{t.wasClean?c={__type:"disconnected"}:i(new D(z.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),h()},w=t=>k(this,void 0,void 0,function*(){h(),Date.now()-n>=V.timeoutMs?i(new D(z.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${o}.`)):(yield new Promise(t=>{let e=a();d=window.setTimeout(t,e)}),m())}),p=n=>k(this,void 0,void 0,function*(){let o=yield n.data.arrayBuffer();switch(c.__type){case"connecting":if(0!==o.byteLength)throw Error("Encountered unexpected message while connecting");let a=yield K();u.send((yield P(a.publicKey,r.privateKey))),c={__type:"hello_req_sent",associationPublicKey:r.publicKey,ecdhPrivateKey:a.privateKey};break;case"connected":try{let t=o.slice(0,4),e=H(t);if(e!==l+1)throw Error("Encrypted message has invalid sequence number");l=e;let n=yield function(t,e){return k(this,void 0,void 0,function*(){let n=JSON.parse((yield x(t,e)));if(Object.hasOwnProperty.call(n,"error"))throw new U(n.id,n.error.code,n.error.message);return n})}(o,c.sharedSecret),r=f[n.id];delete f[n.id],r.resolve(n.result)}catch(t){if(t instanceof U){let e=f[t.jsonRpcMessageId];delete f[t.jsonRpcMessageId],e.reject(t)}else throw t}break;case"hello_req_sent":{var d,g;if(0===o.byteLength){let t=yield K();u.send((yield P(t.publicKey,r.privateKey))),c={__type:"hello_req_sent",associationPublicKey:r.publicKey,ecdhPrivateKey:t.privateKey};break}let n=yield function(t,e,n){return k(this,void 0,void 0,function*(){let[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),a=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},a,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}(o,c.associationPublicKey,c.ecdhPrivateKey),a=o.slice(65),y=0!==a.byteLength?yield k(this,void 0,void 0,function*(){let t=H(a.slice(0,4));if(t!==l+1)throw Error("Encrypted message has invalid sequence number");return l=t,function(t,e){return k(this,void 0,void 0,function*(){let n=JSON.parse((yield x(t,e))),r="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":r="v1";break;case"legacy":r="legacy";break;default:throw new D(z.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:r}})}(a,n)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:n,sessionProperties:y};let w=(d=y.protocol_version,g=(t,e)=>k(this,void 0,void 0,function*(){let r=s++;return u.send((yield function(t,e){return k(this,void 0,void 0,function*(){return function(t,e,n){return k(this,void 0,void 0,function*(){let r=function(t){if(t>=0x100000000)throw Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");let e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}(e),i=new Uint8Array(12);crypto.getRandomValues(i);let o=yield crypto.subtle.encrypt(B(r,i),n,new TextEncoder().encode(t)),a=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return a.set(new Uint8Array(r),0),a.set(new Uint8Array(i),r.byteLength),a.set(new Uint8Array(o),r.byteLength+i.byteLength),a})}(JSON.stringify(t),t.id,e)})}({id:r,jsonrpc:"2.0",method:t,params:null!=e?e:{}},n))),new Promise((e,n)=>{f[r]={resolve(r){switch(t){case"authorize":case"reauthorize":{let{wallet_uri_base:t}=r;if(null!=t)try{(function(t){let e;try{e=new URL(t)}catch(t){throw new D(z.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new D(z.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")})(t)}catch(t){n(t);return}}}e(r)},reject:n}})}),new Proxy({},{get:(t,e)=>(null==t[e]&&(t[e]=function(t){return k(this,void 0,void 0,function*(){let{method:n,params:r}=function(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:t}=r;if("legacy"===n){switch(t){case"solana:testnet":t="testnet";break;case"solana:devnet":t="devnet";break;case"solana:mainnet":t="mainnet-beta";break;default:t=r.cluster}r.cluster=t}else{switch(t){case"testnet":case"devnet":t=`solana:${t}`;break;case"mainnet-beta":t="solana:mainnet"}r.chain=t}}case"reauthorize":{let{auth_token:t,identity:e}=r;t&&("legacy"===n?(i="reauthorize",r={auth_token:t,identity:e}):i="authorize")}}return{method:i,params:r}}(e,t,d),i=yield g(n,r);return"authorize"===n&&r.sign_in_payload&&!i.sign_in_result&&(i.sign_in_result=yield function(t,e,n){var r;return k(this,void 0,void 0,function*(){var i;let o=null!==(r=t.domain)&&void 0!==r?r:window.location.host,a=e.accounts[0].address,s=(i=function(t){let e=`${t.domain} wants you to sign in with your Solana account:
`;e+=`${t.address}`,t.statement&&(e+=`

${t.statement}`);let n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources)for(let e of(n.push("Resources:"),t.resources))n.push(`- ${e}`);return n.length&&(e+=`

${n.join("\n")}`),e}(Object.assign(Object.assign({},t),{domain:o,address:a})),window.btoa(i)),l=yield n("sign_messages",{addresses:[a],payloads:[s]});return{address:a,signed_message:s,signature:l.signed_payloads[0].slice(s.length)}})}(r.sign_in_payload,i,g)),function(t,e,n){if("getCapabilities"===t)switch(n){case"legacy":{let t=["solana:signTransactions"];return!0===e.supports_clone_authorization&&t.push(j),Object.assign(Object.assign({},e),{features:t})}case"v1":return Object.assign(Object.assign({},e),{supports_sign_and_send_transactions:!0,supports_clone_authorization:e.features.includes(j)})}return e}(e,i,d)})}),t[e]),defineProperty:()=>!1,deleteProperty:()=>!1}));try{e((yield t(w)))}catch(t){i(t)}finally{h(),u.close()}}}}),m=()=>{h&&h(),c={__type:"connecting",associationKeypair:r},void 0===n&&(n=Date.now()),(u=new WebSocket(o,["com.solana.mobilewalletadapter.v1"])).addEventListener("open",g),u.addEventListener("close",y),u.addEventListener("error",w),u.addEventListener("message",p),h=()=>{window.clearTimeout(d),u.removeEventListener("open",g),u.removeEventListener("close",y),u.removeEventListener("error",w),u.removeEventListener("message",p)}};m()})})}(e=>t(new Proxy({},{get(t,n){if(null==t[n])switch(n){case"signAndSendTransactions":t[n]=function(t){var{minContextSlot:n,commitment:r,skipPreflight:i,maxRetries:o,waitForCommitmentToSendNextTransaction:a,transactions:s}=t,l=G(t,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return J(this,void 0,void 0,function*(){let t=s.map(X),c={min_context_slot:n,commitment:r,skip_preflight:i,max_retries:o,wait_for_commitment_to_send_next_transaction:a},{signatures:u}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},l),Object.values(c).some(t=>null!=t)?{options:c}:null),{payloads:t}));return u.map(q).map($.encode)})};break;case"signMessages":t[n]=function(t){var{payloads:n}=t,r=G(t,["payloads"]);return J(this,void 0,void 0,function*(){let t=n.map(Z),{signed_payloads:i}=yield e.signMessages(Object.assign(Object.assign({},r),{payloads:t}));return i.map(q)})};break;case"signTransactions":t[n]=function(t){var{transactions:n}=t,r=G(t,["transactions"]);return J(this,void 0,void 0,function*(){let t=n.map(X),{signed_payloads:i}=yield e.signTransactions(Object.assign(Object.assign({},r),{payloads:t}));return i.map(q).map(tt)})};break;default:t[n]=e[n]}return t[n]},defineProperty:()=>!1,deleteProperty:()=>!1})),e)})}(t,Object.assign(Object.assign({},n?{baseUri:n}:void 0),r))}catch(t){throw this._connectionGeneration!==i&&(yield new Promise(()=>{})),t instanceof Error&&"SolanaMobileWalletAdapterError"===t.name&&"ERROR_WALLET_NOT_FOUND"===t.code&&(yield this._onWalletNotFound(this)),t}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new R.kW;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return tu(this,void 0,void 0,function*(){let{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(n=>tu(this,void 0,void 0,function*(){return yield this.performReauthorization(n,e),yield n.signTransactions({transactions:t})}))}catch(t){throw new R.z4(null==t?void 0:t.message,t)}})}sendTransaction(t,e,n){return tu(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tu(this,void 0,void 0,function*(){let{authToken:r}=this.assertIsAuthorized(),i=null==n?void 0:n.minContextSlot;try{return yield this.transact(o=>tu(this,void 0,void 0,function*(){function a(){let t,r;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null==n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=t;break;default:r="finalized"}let i="finalized"===r?2:"confirmed"===r?1:0,o="finalized"===t?2:"confirmed"===t?1:0;return i<o?r:t}let[s,l,c]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,r),tf(t)?null:tu(this,void 0,void 0,function*(){var n;if(t.feePayer||(t.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==t.recentBlockhash){let{blockhash:n}=yield e.getLatestBlockhash({commitment:a()});t.recentBlockhash=n}})]);if(s.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{let[r]=yield o.signTransactions({transactions:[t]});if(tf(r))return yield e.sendTransaction(r);{let t=r.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},n),{preflightCommitment:a()}))}}}))}catch(t){throw new R.UF(null==t?void 0:t.message,t)}}))})}signTransaction(t){return tu(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tu(this,void 0,void 0,function*(){let[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return tu(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tu(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return tu(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tu(this,void 0,void 0,function*(){let{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact(r=>tu(this,void 0,void 0,function*(){yield this.performReauthorization(r,e);let[i]=yield r.signMessages({addresses:[n],payloads:[t]});return i.slice(-64)}))}catch(t){throw new R.K3(null==t?void 0:t.message,t)}}))})}signIn(t){return tu(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>tu(this,void 0,void 0,function*(){var e,n;if(this._readyState!==S.Ok.Installed&&this._readyState!==S.Ok.Loadable)throw new R.AE;this._connecting=!0;try{let r=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(!r.sign_in_result)throw Error("Sign in failed, no sign in result returned by wallet");let i=r.sign_in_result.address;return{account:Object.assign(Object.assign({},null!==(n=r.accounts.find(t=>t.address==i))&&void 0!==n?n:{address:i}),{publicKey:th(i)}),signedMessage:th(r.sign_in_result.signed_message),signature:th(r.sign_in_result.signature)}}catch(t){throw new R.Y6(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}}let ty="SolanaMobileWalletAdapterDefaultAuthorizationCache";function tw(t){return tu(this,void 0,void 0,function*(){"undefined"!=typeof window&&window.location.assign(t.url)})}let tp="solana:signAndSendTransaction",tm="solana:signTransaction",tv="standard:connect",tE="standard:events",tA=function(t){return tv in t.features&&tE in t.features&&(tp in t.features||tm in t.features)},tb="solana:signMessage",t_="solana:signIn",tT="solana:mainnet";function tM(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}let tN="standard:disconnect";new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;let tI=function(t){if(t.length>=255)throw TypeError("Alphabet too long");let e=new Uint8Array(256);for(let t=0;t<e.length;t++)e[t]=255;for(let n=0;n<t.length;n++){let r=t.charAt(n),i=r.charCodeAt(0);if(255!==e[i])throw TypeError(r+" is ambiguous");e[i]=n}let n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function a(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;let o=0,a=0,s=0;for(;t[o]===r;)a++,o++;let l=(t.length-o)*i+1>>>0,c=new Uint8Array(l);for(;t[o];){let r=e[t.charCodeAt(o)];if(255===r)return;let i=0;for(let t=l-1;(0!==r||i<s)&&-1!==t;t--,i++)r+=n*c[t]>>>0,c[t]=r%256>>>0,r=r/256>>>0;if(0!==r)throw Error("Non-zero carry");s=i,o++}let u=l-s;for(;u!==l&&0===c[u];)u++;let h=new Uint8Array(a+(l-u)),d=a;for(;u!==l;)h[d++]=c[u++];return h}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";let i=0,a=0,s=0,l=e.length;for(;s!==l&&0===e[s];)s++,i++;let c=(l-s)*o+1>>>0,u=new Uint8Array(c);for(;s!==l;){let t=e[s],r=0;for(let e=c-1;(0!==t||r<a)&&-1!==e;e--,r++)t+=256*u[e]>>>0,u[e]=t%n>>>0,t=t/n>>>0;if(0!==t)throw Error("Non-zero carry");a=r,s++}let h=c-a;for(;h!==c&&0===u[h];)h++;let d=r.repeat(i);for(;h<c;++h)d+=t.charAt(u[h]);return d},decodeUnsafe:a,decode:function(t){let e=a(t);if(e)return e;throw Error("Non-base"+n+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var tS=function(t,e,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},tR=function(t,e,n,r,i){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n};class tC extends S.Ce{get name(){return tS(this,g,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return tS(this,g,"f").icon}get readyState(){return tS(this,y,"f")}get publicKey(){return tS(this,c,"f")}get connecting(){return tS(this,u,"f")}get supportedTransactionVersions(){return tS(this,f,"f")}get wallet(){return tS(this,g,"f")}get standard(){return!0}constructor({wallet:t}){super(),s.add(this),l.set(this,void 0),c.set(this,void 0),u.set(this,void 0),h.set(this,void 0),d.set(this,void 0),f.set(this,void 0),g.set(this,void 0),y.set(this,"undefined"==typeof window||"undefined"==typeof document?S.Ok.Unsupported:S.Ok.Installed),E.set(this,t=>{if("accounts"in t){let t=tS(this,g,"f").accounts[0];tS(this,l,"f")&&!tS(this,h,"f")&&t!==tS(this,l,"f")&&(t?tS(this,s,"m",p).call(this,t):(this.emit("error",new R.PQ),tS(this,s,"m",m).call(this)))}"features"in t&&tS(this,s,"m",v).call(this)}),tR(this,g,t,"f"),tR(this,l,null,"f"),tR(this,c,null,"f"),tR(this,u,!1,"f"),tR(this,h,!1,"f"),tR(this,d,tS(this,g,"f").features[tE].on("change",tS(this,E,"f")),"f"),tS(this,s,"m",v).call(this)}destroy(){tR(this,l,null,"f"),tR(this,c,null,"f"),tR(this,u,!1,"f"),tR(this,h,!1,"f");let t=tS(this,d,"f");t&&(tR(this,d,null,"f"),t())}async autoConnect(){return tS(this,s,"m",w).call(this,{silent:!0})}async connect(){return tS(this,s,"m",w).call(this)}async disconnect(){if(tN in tS(this,g,"f").features)try{tR(this,h,!0,"f"),await tS(this,g,"f").features[tN].disconnect()}catch(t){this.emit("error",new R.Y8(t?.message,t))}finally{tR(this,h,!1,"f")}tS(this,s,"m",m).call(this)}async sendTransaction(t,e,n={}){try{var r;let i;let o=tS(this,l,"f");if(!o)throw new R.kW;if(tp in tS(this,g,"f").features){if(o.features.includes(tp))i=tp;else if(tm in tS(this,g,"f").features&&o.features.includes(tm))i=tm;else throw new R.fk}else if(tm in tS(this,g,"f").features){if(!o.features.includes(tm))throw new R.fk;i=tm}else throw new R.Ez;let a=(r=e.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?tT:/\bdevnet\b/i.test(r)?"solana:devnet":/\btestnet\b/i.test(r)?"solana:testnet":/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?"solana:localnet":tT;if(!o.chains.includes(a))throw new R.UF;try{let r;let{signers:s,...l}=n;if((0,C.Y)(t)?(s?.length&&t.sign(s),r=t.serialize()):(t=await this.prepareTransaction(t,e,l),s?.length&&t.partialSign(...s),r=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===tp){let[t]=await tS(this,g,"f").features[tp].signAndSendTransaction({account:o,chain:a,transaction:r,options:{preflightCommitment:tM(l.preflightCommitment||e.commitment),skipPreflight:l.skipPreflight,maxRetries:l.maxRetries,minContextSlot:l.minContextSlot}});return tI.encode(t.signature)}{let[t]=await tS(this,g,"f").features[tm].signTransaction({account:o,chain:a,transaction:r,options:{preflightCommitment:tM(l.preflightCommitment||e.commitment),minContextSlot:l.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...l,preflightCommitment:tM(l.preflightCommitment||e.commitment)})}}catch(t){if(t instanceof R.m7)throw t;throw new R.UF(t?.message,t)}}catch(t){throw this.emit("error",t),t}}}l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,E=new WeakMap,s=new WeakSet,w=async function(t){try{if(this.connected||this.connecting)return;if(tS(this,y,"f")!==S.Ok.Installed)throw new R.AE;if(tR(this,u,!0,"f"),!tS(this,g,"f").accounts.length)try{await tS(this,g,"f").features[tv].connect(t)}catch(t){throw new R.Y6(t?.message,t)}let e=tS(this,g,"f").accounts[0];if(!e)throw new R.fk;tS(this,s,"m",p).call(this,e)}catch(t){throw this.emit("error",t),t}finally{tR(this,u,!1,"f")}},p=function(t){let e;try{e=new O.PublicKey(t.address)}catch(t){throw new R.Kd(t?.message,t)}tR(this,l,t,"f"),tR(this,c,e,"f"),tS(this,s,"m",v).call(this),this.emit("connect",e)},m=function(){tR(this,l,null,"f"),tR(this,c,null,"f"),tS(this,s,"m",v).call(this),this.emit("disconnect")},v=function(){let t=tp in tS(this,g,"f").features?tS(this,g,"f").features[tp].supportedTransactionVersions:tS(this,g,"f").features[tm].supportedTransactionVersions;tR(this,f,!function(t,e){if(t===e)return!0;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(t,["legacy"])?new Set(t):null,"f"),tm in tS(this,g,"f").features&&tS(this,l,"f")?.features.includes(tm)?(this.signTransaction=tS(this,s,"m",A),this.signAllTransactions=tS(this,s,"m",b)):(delete this.signTransaction,delete this.signAllTransactions),tb in tS(this,g,"f").features&&tS(this,l,"f")?.features.includes(tb)?this.signMessage=tS(this,s,"m",_):delete this.signMessage,t_ in tS(this,g,"f").features?this.signIn=tS(this,s,"m",T):delete this.signIn},A=async function(t){try{let e=tS(this,l,"f");if(!e)throw new R.kW;if(!(tm in tS(this,g,"f").features))throw new R.Ez;if(!e.features.includes(tm))throw new R.fk;try{let n=(await tS(this,g,"f").features[tm].signTransaction({account:e,transaction:(0,C.Y)(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return(0,C.Y)(t)?O.VersionedTransaction.deserialize(n):O.Transaction.from(n)}catch(t){if(t instanceof R.m7)throw t;throw new R.z4(t?.message,t)}}catch(t){throw this.emit("error",t),t}},b=async function(t){try{let e=tS(this,l,"f");if(!e)throw new R.kW;if(!(tm in tS(this,g,"f").features))throw new R.Ez;if(!e.features.includes(tm))throw new R.fk;try{let n=await tS(this,g,"f").features[tm].signTransaction(...t.map(t=>({account:e,transaction:(0,C.Y)(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((t,e)=>{let r=n[e].signedTransaction;return(0,C.Y)(t)?O.VersionedTransaction.deserialize(r):O.Transaction.from(r)})}catch(t){throw new R.z4(t?.message,t)}}catch(t){throw this.emit("error",t),t}},_=async function(t){try{let e=tS(this,l,"f");if(!e)throw new R.kW;if(!(tb in tS(this,g,"f").features))throw new R.Ez;if(!e.features.includes(tb))throw new R.fk;try{return(await tS(this,g,"f").features[tb].signMessage({account:e,message:t}))[0].signature}catch(t){throw new R.K3(t?.message,t)}}catch(t){throw this.emit("error",t),t}},T=async function(t={}){try{let e;if(!(t_ in tS(this,g,"f").features))throw new R.Ez;try{[e]=await tS(this,g,"f").features[t_].signIn(t)}catch(t){throw new R.o7(t?.message,t)}if(!e)throw new R.o7;return tS(this,s,"m",p).call(this,e.account),e}catch(t){throw this.emit("error",t),t}};var tO=function(t,e,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},tL=function(t,e,n,r,i){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n};let tz=new Set,tD={};function tU(...t){return(t=t.filter(t=>!tz.has(t))).length?(t.forEach(t=>{i=void 0,tz.add(t)}),tD.register?.forEach(e=>tj(()=>e(...t))),function(){t.forEach(t=>{i=void 0,tz.delete(t)}),tD.unregister?.forEach(e=>tj(()=>e(...t)))}):()=>{}}function tk(){return i||(i=[...tz]),i}function tP(t,e){return tD[t]?.push(e)||(tD[t]=[e]),function(){tD[t]=tD[t]?.filter(t=>e!==t)}}function tj(t){try{t()}catch(t){console.error(t)}}class tx extends Event{get detail(){return tO(this,M,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),M.set(this,void 0),tL(this,M,t,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}M=new WeakMap;var tB=n(12115);function tK(t){let e=(0,tB.useRef)(void 0);return void 0===e.current&&(e.current={value:t()}),e.current.value}function tW(t){return t.filter(tA).map(t=>new tC({wallet:t}))}!function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"}(N||(N={}));var tY=n(47928);class tF extends R.m7{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}var tQ=n(11929);function tV({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:o,onError:a,onSelectWallet:s}){let l=(0,tB.useRef)(!1),[c,u]=(0,tB.useState)(!1),h=(0,tB.useRef)(!1),[d,f]=(0,tB.useState)(!1),[g,y]=(0,tB.useState)(()=>n?.publicKey??null),[w,p]=(0,tB.useState)(()=>n?.connected??!1),m=(0,tB.useRef)(a);(0,tB.useEffect)(()=>(m.current=a,()=>{m.current=void 0}),[a]);let v=(0,tB.useRef)((t,e)=>(!r.current&&(m.current?m.current(t,e):(console.error(t,e),t instanceof R.AE&&"undefined"!=typeof window&&e&&window.open(e.url,"_blank"))),t)),[E,A]=(0,tB.useState)(()=>e.map(t=>({adapter:t,readyState:t.readyState})).filter(({readyState:t})=>t!==S.Ok.Unsupported));(0,tB.useEffect)(()=>{function t(t){A(e=>{let n=e.findIndex(({adapter:t})=>t===this);if(-1===n)return e;let{adapter:r}=e[n];return[...e.slice(0,n),{adapter:r,readyState:t},...e.slice(n+1)].filter(({readyState:t})=>t!==S.Ok.Unsupported)})}return A(t=>e.map((e,n)=>{let r=t[n];return r&&r.adapter===e&&r.readyState===e.readyState?r:{adapter:e,readyState:e.readyState}}).filter(({readyState:t})=>t!==S.Ok.Unsupported)),e.forEach(e=>e.on("readyStateChange",t,e)),()=>{e.forEach(e=>e.off("readyStateChange",t,e))}},[n,e]);let b=(0,tB.useMemo)(()=>E.find(t=>t.adapter===n)??null,[n,E]);(0,tB.useEffect)(()=>{if(!n)return;let t=t=>{y(t),l.current=!1,u(!1),p(!0),h.current=!1,f(!1)},e=()=>{r.current||(y(null),l.current=!1,u(!1),p(!1),h.current=!1,f(!1))},i=t=>{v.current(t,n)};return n.on("connect",t),n.on("disconnect",e),n.on("error",i),()=>{n.off("connect",t),n.off("disconnect",e),n.off("error",i),e()}},[n,r]);let _=(0,tB.useRef)(!1);(0,tB.useEffect)(()=>()=>{_.current=!1},[n]),(0,tB.useEffect)(()=>{_.current||l.current||w||!i||b?.readyState!==S.Ok.Installed&&b?.readyState!==S.Ok.Loadable||(l.current=!0,u(!0),_.current=!0,async function(){try{await i()}catch{o()}finally{u(!1),l.current=!1}}())},[w,i,o,b]);let T=(0,tB.useCallback)(async(t,e,r)=>{if(!n)throw v.current(new tF);if(!w)throw v.current(new R.kW,n);return await n.sendTransaction(t,e,r)},[n,w]),M=(0,tB.useMemo)(()=>n&&"signTransaction"in n?async t=>{if(!w)throw v.current(new R.kW,n);return await n.signTransaction(t)}:void 0,[n,w]),N=(0,tB.useMemo)(()=>n&&"signAllTransactions"in n?async t=>{if(!w)throw v.current(new R.kW,n);return await n.signAllTransactions(t)}:void 0,[n,w]),I=(0,tB.useMemo)(()=>n&&"signMessage"in n?async t=>{if(!w)throw v.current(new R.kW,n);return await n.signMessage(t)}:void 0,[n,w]),C=(0,tB.useMemo)(()=>n&&"signIn"in n?async t=>await n.signIn(t):void 0,[n]),O=(0,tB.useCallback)(async()=>{if(l.current||h.current||b?.adapter.connected)return;if(!b)throw v.current(new tF);let{adapter:t,readyState:e}=b;if(!(e===S.Ok.Installed||e===S.Ok.Loadable))throw v.current(new R.AE,t);l.current=!0,u(!0);try{await t.connect()}catch(t){throw o(),t}finally{u(!1),l.current=!1}},[o,b]),L=(0,tB.useCallback)(async()=>{if(!h.current&&n){h.current=!0,f(!0);try{await n.disconnect()}finally{f(!1),h.current=!1}}},[n]);return tB.createElement(tQ.b.Provider,{value:{autoConnect:!!i,wallets:E,wallet:b,publicKey:g,connected:w,connecting:c,disconnecting:d,select:s,connect:O,disconnect:L,sendTransaction:T,signTransaction:M,signAllTransactions:N,signMessage:I,signIn:C}},t)}function tH(t){return function({adapters:t,userAgentString:e}){return t.some(t=>t.name!==td&&t.readyState===S.Ok.Installed)?N.DESKTOP_WEB:e&&/android/i.test(e)&&!/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)?N.MOBILE_WEB:N.DESKTOP_WEB}({adapters:t,userAgentString:(void 0===o&&(o=globalThis.navigator?.userAgent??null),o)})===N.MOBILE_WEB}function t$({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){let{connection:o}=(0,tY.w)(),s=function(t){let e=tK(()=>new Set),{get:n,on:r}=tK(()=>(function(){if(a||(a=function(){if(a||(a=Object.freeze({register:tU,get:tk,on:tP}),"undefined"==typeof window))return a;let t=Object.freeze({register:tU});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new tx(t))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return a}(),"undefined"==typeof window))return a;let t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),a;let{register:e}=a,n=(...t)=>t.forEach(t=>tj(()=>t({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(t){return console.error("window.navigator.wallets could not be set"),a}return n(...t),a})()),[i,o]=(0,tB.useState)(()=>tW(n()));(0,tB.useEffect)(()=>{let t=[r("register",(...t)=>o(e=>[...e,...tW(t)])),r("unregister",(...t)=>o(e=>e.filter(e=>t.some(t=>t===e.wallet))))];return()=>t.forEach(t=>t())},[r]);let s=function(t){let e=(0,tB.useRef)(void 0);return(0,tB.useEffect)(()=>{e.current=t}),e.current}(i);return(0,tB.useEffect)(()=>{if(!s)return;let t=new Set(i);new Set(s.filter(e=>!t.has(e))).forEach(t=>t.destroy())},[s,i]),(0,tB.useEffect)(()=>()=>i.forEach(t=>t.destroy()),[]),(0,tB.useMemo)(()=>[...i,...t.filter(({name:t})=>!i.some(e=>e.name===t)||(e.has(t)||(e.add(t),console.warn(`${t} was registered as a Standard Wallet. The Wallet Adapter for ${t} can be removed from your app.`)),!1))],[i,t,e])}(e),l=(0,tB.useMemo)(()=>{var t;if(!tH(s))return null;let e=s.find(t=>t.name===td);return e||new tg({addressSelector:{select(t){return tu(this,void 0,void 0,function*(){return t[0]})}},appIdentity:{uri:function(){let t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}()},authorizationResultCache:function(){let t;try{t=window.localStorage}catch(t){}return{clear(){return tu(this,void 0,void 0,function*(){if(t)try{t.removeItem(ty)}catch(t){}})},get(){return tu(this,void 0,void 0,function*(){if(t)try{return JSON.parse(t.getItem(ty))||void 0}catch(t){}})},set(e){return tu(this,void 0,void 0,function*(){if(t)try{t.setItem(ty,JSON.stringify(e))}catch(t){}})}}}(),cluster:(t=o?.rpcEndpoint)?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta",onWalletNotFound:tw})},[s,o?.rpcEndpoint]),c=(0,tB.useMemo)(()=>null==l||-1!==s.indexOf(l)?s:[l,...s],[s,l]),[u,h]=function(t,e){let n=(0,tB.useState)(()=>{try{let e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(t){"undefined"!=typeof window&&console.error(t)}return e}),r=n[0],i=(0,tB.useRef)(!0);return(0,tB.useEffect)(()=>{if(i.current){i.current=!1;return}try{null===r?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(t){"undefined"!=typeof window&&console.error(t)}},[r,t]),n}(r,tH(s)?td:null),d=(0,tB.useMemo)(()=>c.find(t=>t.name===u)??null,[c,u]),f=(0,tB.useCallback)(t=>{u!==t&&(d&&d.name!==td&&d.disconnect(),h(t))},[d,h,u]);(0,tB.useEffect)(()=>{if(d)return d.on("disconnect",t),()=>{d.off("disconnect",t)};function t(){!w.current&&(u===td&&tH(s)||h(null))}},[d,s,h,u]);let g=(0,tB.useRef)(!1),y=(0,tB.useMemo)(()=>{if(n&&d)return async()=>{(!0===n||await n(d))&&(g.current?await d.connect():await d.autoConnect())}},[n,d]),w=(0,tB.useRef)(!1);(0,tB.useEffect)(()=>{if(u===td&&tH(s)){w.current=!1;return}function t(){w.current=!0}return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[s,u]);let p=(0,tB.useCallback)(()=>{d&&d.name!==td&&f(null)},[d,f]),m=(0,tB.useCallback)(t=>{g.current=!0,f(t)},[f]);return tB.createElement(tV,{wallets:c,adapter:d,isUnloadingRef:w,onAutoConnectRequest:y,onConnectError:p,onError:i,onSelectWallet:m},t)}}}]);